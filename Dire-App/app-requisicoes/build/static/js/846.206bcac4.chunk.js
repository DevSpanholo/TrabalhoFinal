"use strict";(self.webpackChunkapp_intro2=self.webpackChunkapp_intro2||[]).push([[846],{8846:function(e,r,n){n.r(r),n.d(r,{default:function(){return L}});var t=n(885),a=(n(7632),n(2791)),o=n(9498),s=n(1063),c=n(919),i=n(184),l=function(e){var r=(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:["Listagem de Colaboradores",(0,i.jsx)(c.z,{icon:"pi pi-file-o",label:"Inserir",className:"p-button-sm",onClick:function(){return e.inserir()}})]}),n="Total de itens: ".concat(e.colaboradores?e.colaboradores.length:0);return(0,i.jsx)("div",{className:"App",children:(0,i.jsxs)(o.w,{value:e.colaboradores,responsiveLayout:"scroll",header:r,footer:n,paginator:!0,className:"p-datatable-sm",paginatorPosition:"top",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown CurrentPageReport",currentPageReportTemplate:"Mostrando de {first} at\xe9 {last} de {totalRecords}",rows:5,rowsPerPageOptions:[5,10,20,50],emptyMessage:"Nenhum colaborador encontrado.",selectionMode:"single",selection:e.colaborador,onSelectionChange:function(r){return e.setColaborador(r.value)},dataKey:"_id",children:[(0,i.jsx)(s.s,{field:"_id",header:"Id",sortable:!0}),(0,i.jsx)(s.s,{field:"nome",header:"Nome",sortable:!0,filter:!0}),(0,i.jsx)(s.s,{field:"email",header:"Email",sortable:!0,filter:!0}),(0,i.jsx)(s.s,{header:"Opera\xe7\xf5es",body:function(r){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.z,{type:"button",icon:"pi pi-pencil",className:"p-button-rounded p-button-text ",onClick:function(){return e.editar(r._id)}}),(0,i.jsx)(c.z,{type:"button",icon:"pi pi-trash",className:"p-button-rounded p-button-text",onClick:function(){e.excluir(r._id)}})]})}})]})})},u=n(4942),d=n(1413),h=n(9025),m=n(905),f=n(74),p=n(3014),x=function(e){var r=function(r){var n=r.target,t=n.id,a=n.value;e.setColaborador((0,d.Z)((0,d.Z)({},e.colaborador),{},(0,u.Z)({},t,a)))},n=(0,a.useState)(),o=(0,t.Z)(n,2),s=o[0],l=o[1],x=(0,f.cI)(),v=x.register,b=x.handleSubmit,g=x.setError,j=x.formState.errors;return(0,i.jsxs)("form",{onSubmit:b((function(r){e.colaborador.senha!==s?g("senha",{type:"custom",message:"Senha e contra senha diferentes."}):e.salvar()})),children:[(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("h5",{children:"Cadastro de Colaboradores"}),(0,i.jsxs)("div",{className:"p-fluid grid formgrid",children:[(0,i.jsxs)("div",{className:"field col-12 md:col-4",children:[(0,i.jsx)("label",{htmlFor:"nome",children:"Nome"}),(0,i.jsx)(h.o,(0,d.Z)((0,d.Z)({id:"nome",defaultValue:e.colaborador.nome},v("nome",{required:{value:!0,message:"O nome \xe9 obrigat\xf3rio."},minLength:{value:2,message:"O nome deve ter pelo menos 2 caracteres."},maxLength:{value:50,message:"O nome deve ter no m\xe1ximo 50 caracteres."}})),{},{onChange:r})),j.nome&&(0,i.jsx)("span",{style:{color:"red"},children:j.nome.message})]}),(0,i.jsxs)("div",{className:"field col-12 md:col-4",children:[(0,i.jsx)("label",{htmlFor:"email",children:"Email"}),(0,i.jsx)(h.o,(0,d.Z)((0,d.Z)({id:"email",defaultValue:e.colaborador.email},v("email",{required:{value:!0,message:"O email \xe9 obrigat\xf3rio."},minLength:{value:10,message:"O email deve ter pelo menos 10 caracteres."},maxLength:{value:100,message:"O email deve ter no m\xe1ximo 100 caracteres."}})),{},{onChange:r})),j.email&&(0,i.jsx)("span",{style:{color:"red"},children:j.email.message})]}),(0,i.jsxs)("div",{className:"field col-4 md:col-4",children:[(0,i.jsx)("label",{htmlFor:"senha",children:"Senha"}),(0,i.jsx)(h.o,(0,d.Z)((0,d.Z)({type:"password",id:"senha"},v("senha",{required:{value:!0,message:"A senha \xe9 obrigat\xf3ria."},minLength:{value:4,message:"A senha deve ter pelo menos 4 caracteres."},maxLength:{value:10,message:"A senha deve ter no m\xe1ximo 10 caracteres."}})),{},{onChange:r,defaultValue:e.colaborador.senha})),j.senha&&(0,i.jsx)("span",{style:{color:"red"},children:j.senha.message})]}),(0,i.jsxs)("div",{className:"field col-4 md:col-4",children:[(0,i.jsx)("label",{htmlFor:"contraSenha",children:"Contra Senha"}),(0,i.jsx)(m.r,{id:"contraSenha",defaultValue:s,onChange:function(e){return l(e.target.value)},toggleMask:!0})]}),(0,i.jsxs)("div",{className:"field col-4 md:col-4",children:[(0,i.jsx)("label",{htmlFor:"chefe",children:"Chefe"}),(0,i.jsx)(p.L,{id:"chefe",optionLabel:function(e){return(0,i.jsxs)(i.Fragment,{children:[e.nome," - ",e.email," "]})},optionValue:"_id",value:e.colaborador.chefe,options:e.chefes,onChange:r,placeholder:"Selecione um Chefe"})]}),(0,i.jsxs)("div",{className:"field col-4 md:col-4",children:[(0,i.jsx)("label",{htmlFor:"chefe2",children:"Chefe"}),(0,i.jsx)(p.L,{id:"chefe",optionLabel:"nome",optionValue:"_id",value:e.colaborador.chefe,options:e.chefes,onChange:r,placeholder:"Selecione um Chefe"})]})]})]})}),(0,i.jsxs)("div",{children:[(0,i.jsx)(c.z,{label:"Salvar",icon:"pi pi-save",type:"submit",className:"p-button-secondary p-button-text"}),(0,i.jsx)(c.z,{label:"Cancelar",icon:"pi pi-times-circle",onClick:e.cancelar,className:"p-button-secondary p-button-text"})]})]})},v=n(5861),b=n(5671),g=n(3144),j=n(7757),y=n.n(j),w=n(4313),C=function(){function e(){(0,b.Z)(this,e),this.url="/colaboradores"}return(0,g.Z)(e,[{key:"listar",value:function(){var e=(0,v.Z)(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.Z.get(this.url).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"incluir",value:function(){var e=(0,v.Z)(y().mark((function e(r){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.Z.post(this.url,r).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"alterar",value:function(){var e=(0,v.Z)(y().mark((function e(r){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.Z.put(this.url,r).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"excluir",value:function(){var e=(0,v.Z)(y().mark((function e(r){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.Z.delete("".concat(this.url,"/").concat(r)).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"obterPeloId",value:function(){var e=(0,v.Z)(y().mark((function e(r){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.Z.get("".concat(this.url,"/").concat(r)).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"filtrar",value:function(){var e=(0,v.Z)(y().mark((function e(r){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.Z.get("".concat(this.url,"/filtro/").concat(r)).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()}]),e}(),Z=new C,k=n(4866),N=n(3155);var L=function(){var e=(0,a.useState)([]),r=(0,t.Z)(e,2),n=r[0],o=r[1],s={id:null,nome:"",email:"",senha:""},c=(0,a.useState)(s),u=(0,t.Z)(c,2),d=u[0],h=u[1],m=(0,a.useState)(!1),f=(0,t.Z)(m,2),p=f[0],v=f[1],b=(0,a.useRef)(),g=(0,a.useState)([]),j=(0,t.Z)(g,2),y=j[0],w=j[1];(0,a.useEffect)((function(){L(),C()}),[]);var C=function(){Z.listar().then((function(e){w(e.data)})).catch((function(e){console.log("Erro: "+e.message)}))},L=function(){Z.listar().then((function(e){o(e.data)})).catch((function(e){console.log("Erro: "+e.message),b.current.show({severity:"error",summary:e.message,life:3e3})}))},S=function(e){Z.excluir(e).then((function(e){L(),b.current.show({severity:"success",summary:"Exclu\xeddo",life:2e3})})).catch((function(e){b.current.show({severity:"error",summary:e.message,life:4e3})}))};return p?(0,i.jsxs)("div",{children:[(0,i.jsx)(x,{colaborador:d,setColaborador:h,salvar:function(){null==d._id?Z.incluir(d).then((function(e){v(!1),L(),b.current.show({severity:"success",summary:"Salvou",life:2e3})})).catch((function(e){b.current.show({severity:"error",summary:e.message,life:4e3})})):Z.alterar(d).then((function(e){v(!1),L(),b.current.show({severity:"success",summary:"Salvou",life:2e3})})).catch((function(e){b.current.show({severity:"error",summary:e.message,life:4e3})}))},cancelar:function(){v(!1)},chefes:y}),(0,i.jsx)(k.F,{ref:b})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)(N.Q,{}),(0,i.jsx)(l,{colaboradores:n,colaborador:d,setColaborador:h,onClickAtualizar:L,inserir:function(){h(s),v(!0)},editar:function(e){h(n.filter((function(r){return r._id==e}))[0]),v(!0)},excluir:function(e){(0,N.V)({message:"Confirma a exclus\xe3o?",header:"Confirma\xe7\xe3o",icon:"pi pi-question",acceptLabel:"Sim",rejectLabel:"N\xe3o",acceptClassName:"p-button-danger",accept:function(){return S(e)}})}}),(0,i.jsx)(k.F,{ref:b})]})}}}]);
//# sourceMappingURL=846.206bcac4.chunk.js.map